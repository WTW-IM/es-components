"use strict";(self.webpackChunkes_components=self.webpackChunkes_components||[]).push([[955],{6955:function(t,e,r){r.d(e,{vs:function(){return transform}});var n=r(95869),i=r(74232),s=r.n(i),a=r(66659),o=r(30337),p=r(65800),l=r.n(p);function toJSON(t){var e={};return Object.keys(t).forEach((function(r){"parent"!==r&&"program"!==r&&"keys"!==r&&"__wrapped"!==r&&(Array.isArray(t[r])?e[r]=t[r].map(toJSON):t[r]&&t[r].toJSON?e[r]=t[r].toJSON():e[r]=t[r])})),e}var c=function Node(){};function extractNames(t){var e=[];return h[t.type](e,t),e}c.prototype.ancestor=function ancestor(t){for(var e=this;t--;)if(!(e=e.parent))return null;return e},c.prototype.contains=function contains(t){for(;t;){if(t===this)return!0;t=t.parent}return!1},c.prototype.findLexicalBoundary=function findLexicalBoundary(){return this.parent.findLexicalBoundary()},c.prototype.findNearest=function findNearest(t){return"string"==typeof t&&(t=new RegExp("^"+t+"$")),t.test(this.type)?this:this.parent.findNearest(t)},c.prototype.unparenthesizedParent=function unparenthesizedParent(){for(var t=this.parent;t&&"ParenthesizedExpression"===t.type;)t=t.parent;return t},c.prototype.unparenthesize=function unparenthesize(){for(var t=this;"ParenthesizedExpression"===t.type;)t=t.expression;return t},c.prototype.findScope=function findScope(t){return this.parent.findScope(t)},c.prototype.getIndentation=function getIndentation(){return this.parent.getIndentation()},c.prototype.initialise=function initialise(t){for(var e=0,r=this.keys;e<r.length;e+=1){var n=this[r[e]];Array.isArray(n)?n.forEach((function(e){return e&&e.initialise(t)})):n&&"object"==typeof n&&n.initialise(t)}},c.prototype.toJSON=function toJSON$1(){return toJSON(this)},c.prototype.toString=function toString(){return this.program.magicString.original.slice(this.start,this.end)},c.prototype.transpile=function transpile(t,e){for(var r=0,n=this.keys;r<n.length;r+=1){var i=this[n[r]];Array.isArray(i)?i.forEach((function(r){return r&&r.transpile(t,e)})):i&&"object"==typeof i&&i.transpile(t,e)}};var h={Identifier:function Identifier(t,e){t.push(e)},ObjectPattern:function ObjectPattern(t,e){for(var r=0,n=e.properties;r<n.length;r+=1){var i=n[r];h[i.type](t,i)}},Property:function Property(t,e){h[e.value.type](t,e.value)},ArrayPattern:function ArrayPattern(t,e){for(var r=0,n=e.elements;r<n.length;r+=1){var i=n[r];i&&h[i.type](t,i)}},RestElement:function RestElement(t,e){h[e.argument.type](t,e.argument)},AssignmentPattern:function AssignmentPattern(t,e){h[e.left.type](t,e.left)}},d=Object.create(null);function Scope(t){t=t||{},this.parent=t.parent,this.isBlockScope=!!t.block,this.createDeclarationCallback=t.declare;for(var e=this;e.isBlockScope;)e=e.parent;this.functionScope=e,this.identifiers=[],this.declarations=Object.create(null),this.references=Object.create(null),this.blockScopedDeclarations=this.isBlockScope?null:Object.create(null),this.aliases=Object.create(null)}function locate(t,e){var r,n=t.split("\n"),i=n.length,s=0;for(r=0;r<i;r+=1){var a=s+n[r].length+1;if(a>e)return{line:r+1,column:e-s,char:r};s=a}throw new Error("Could not determine location of character")}function repeat(t,e){for(var r="";e--;)r+=t;return r}function getSnippet(t,e,r){void 0===r&&(r=1);var n=Math.max(e.line-5,0),i=e.line,s=String(i).length,a=t.split("\n").slice(n,i),o=a[a.length-1].slice(0,e.column).replace(/\t/g,"  ").length,p=a.map((function(t,e){return r=s,(i=String(e+n+1))+repeat(" ",r-i.length)+" : "+t.replace(/\t/g,"  ");var r,i})).join("\n");return p+="\n"+repeat(" ",s+3+o)+repeat("^",r)}"do if in for let new try var case else enum eval null this true void with await break catch class const false super throw while yield delete export import public return static switch typeof default extends finally package private continue debugger function arguments interface protected implements instanceof".split(" ").forEach((function(t){return d[t]=!0})),Scope.prototype={addDeclaration:function addDeclaration(t,e){for(var r=0,n=extractNames(t);r<n.length;r+=1){var i=n[r],s=i.name,a={name:s,node:i,kind:e,instances:[]};this.declarations[s]=a,this.isBlockScope&&(this.functionScope.blockScopedDeclarations[s]||(this.functionScope.blockScopedDeclarations[s]=[]),this.functionScope.blockScopedDeclarations[s].push(a))}},addReference:function addReference(t){this.consolidated?this.consolidateReference(t):this.identifiers.push(t)},consolidate:function consolidate(){for(var t=0;t<this.identifiers.length;t+=1){var e=this.identifiers[t];this.consolidateReference(e)}this.consolidated=!0},consolidateReference:function consolidateReference(t){var e=this.declarations[t.name];e?e.instances.push(t):(this.references[t.name]=!0,this.parent&&this.parent.addReference(t))},contains:function contains(t){return this.declarations[t]||!!this.parent&&this.parent.contains(t)},createIdentifier:function createIdentifier(t){"number"==typeof t&&(t=t.toString());for(var e=t=t.replace(/\s/g,"").replace(/\[([^\]]+)\]/g,"_$1").replace(/[^a-zA-Z0-9_$]/g,"_").replace(/_{2,}/,"_"),r=1;this.declarations[e]||this.references[e]||this.aliases[e]||e in d;)e=t+"$"+r++;return this.aliases[e]=!0,e},createDeclaration:function createDeclaration(t){var e=this.createIdentifier(t);return this.createDeclarationCallback(e),e},findDeclaration:function findDeclaration(t){return this.declarations[t]||this.parent&&this.parent.findDeclaration(t)},resolveName:function resolveName(t){var e=this.findDeclaration(t);return e?e.name:t}};var u=function(t){function CompileError(e,r){if(t.call(this,e),this.name="CompileError",r){var n=r.program.magicString.original,i=locate(n,r.start);this.message=e+" ("+i.line+":"+i.column+")",this.stack=(new t).stack.replace(new RegExp(".+new "+this.name+".+\\n","m"),""),this.loc=i,this.snippet=getSnippet(n,i,r.end-r.start)}}return t&&(CompileError.__proto__=t),CompileError.prototype=Object.create(t&&t.prototype),CompileError.prototype.constructor=CompileError,CompileError.prototype.toString=function toString(){return this.name+": "+this.message+"\n"+this.snippet},CompileError.missingTransform=function missingTransform(t,e,r,n){throw void 0===n&&(n=null),new CompileError("Transforming "+t+" is not "+(n?"fully supported":"implemented")+". Use `transforms: { "+e+": false }` to skip transformation and disable this error"+(n?", or `transforms: { "+n+": true }` if you know what you're doing":"")+".",r)},CompileError}(Error);function findIndex(t,e){for(var r=0;r<t.length;r+=1)if(e(t[r],r))return r;return-1}var f={Identifier:destructureIdentifier,AssignmentPattern:function destructureAssignmentPattern(t,e,r,n,i,s,a){var o="Identifier"===n.left.type,p=o?n.left.name:i;s||a.push((function(e,r,i){t.prependRight(n.left.end,r+"if ( "+p+" === void 0 ) "+p),t.move(n.left.end,n.right.end,e),t.appendLeft(n.right.end,i)}));o||destructure(t,e,r,n.left,i,s,a)},ArrayPattern:function destructureArrayPattern(t,e,r,n,i,s,a){var o=n.start;n.elements.forEach((function(n,p){n&&("RestElement"===n.type?handleProperty(t,e,r,o,n.argument,i+".slice("+p+")",s,a):handleProperty(t,e,r,o,n,i+"["+p+"]",s,a),o=n.end)})),t.remove(o,n.end)},ObjectPattern:destructureObjectPattern};function destructure(t,e,r,n,i,s,a){f[n.type](t,e,r,n,i,s,a)}function destructureIdentifier(t,e,r,n,i,s,a){a.push((function(e,a,o){t.overwrite(n.start,n.end,(s?a:a+"var ")+r(n)+" = "+i+o),t.move(n.start,n.end,e)}))}function destructureMemberExpression(t,e,r,n,i,s,a){a.push((function(e,r,a){t.prependRight(n.start,s?r:r+"var "),t.appendLeft(n.end," = "+i+a),t.move(n.start,n.end,e)}))}function destructureObjectPattern(t,e,r,n,i,s,a){var o=this,p=n.start,l=[];n.properties.forEach((function(n){var c,h;if("Property"===n.type)if(h=n.value,n.computed||"Identifier"!==n.key.type)if(n.computed||"Literal"!==n.key.type){var d=t.slice(n.key.start,n.key.end);c=i+"["+d+"]",l.push("String("+d+")")}else c=i+"["+n.key.raw+"]",l.push(JSON.stringify(String(n.key.value)));else c=i+"."+n.key.name,l.push('"'+n.key.name+'"');else{if("RestElement"!==n.type)throw new u(o,"Unexpected node of type "+n.type+" in object pattern");h=n.argument,c=e("rest"),a.push((function(e,r,a){var o=n.program.getObjectWithoutPropertiesHelper(t);t.overwrite(n.start,p=n.argument.start,(s?r:r+"var ")+c+" = "+o+"( "+i+", ["+l.join(", ")+"] )"+a),t.move(n.start,p,e)}))}handleProperty(t,e,r,p,h,c,s,a),p=n.end})),t.remove(p,n.end)}function handleProperty(t,e,r,n,i,s,a,o){switch(i.type){case"Identifier":t.remove(n,i.start),destructureIdentifier(t,0,r,i,s,a,o);break;case"MemberExpression":t.remove(n,i.start),destructureMemberExpression(t,0,0,i,s,!0,o);break;case"AssignmentPattern":var p,l="Identifier"===i.left.type;p=l?r(i.left):e(s),o.push((function(e,r,n){a?(t.prependRight(i.right.start,p+" = "+s+", "+p+" = "+p+" === void 0 ? "),t.appendLeft(i.right.end," : "+p+n)):(t.prependRight(i.right.start,r+"var "+p+" = "+s+"; if ( "+p+" === void 0 ) "+p+" = "),t.appendLeft(i.right.end,n)),t.move(i.right.start,i.right.end,e)})),l?t.remove(n,i.right.start):(t.remove(n,i.left.start),t.remove(i.left.end,i.right.start),handleProperty(t,e,r,n,i.left,p,a,o));break;case"ObjectPattern":t.remove(n,n=i.start);var c=s;i.properties.length>1&&(c=e(s),o.push((function(e,r,o){t.prependRight(i.start,(a?"":r+"var ")+c+" = "),t.overwrite(i.start,n=i.start+1,s),t.appendLeft(n,o),t.overwrite(i.start,n=i.start+1,(a?"":r+"var ")+c+" = "+s+o),t.move(i.start,n,e)}))),destructureObjectPattern(t,e,r,i,c,a,o);break;case"ArrayPattern":if(t.remove(n,n=i.start),i.elements.filter(Boolean).length>1){var h=e(s);o.push((function(e,r,o){t.prependRight(i.start,(a?"":r+"var ")+h+" = "),t.overwrite(i.start,n=i.start+1,s,{contentOnly:!0}),t.appendLeft(n,o),t.move(i.start,n,e)})),i.elements.forEach((function(i,s){i&&("RestElement"===i.type?handleProperty(t,e,r,n,i.argument,h+".slice("+s+")",a,o):handleProperty(t,e,r,n,i,h+"["+s+"]",a,o),n=i.end)}))}else{var d=findIndex(i.elements,Boolean),u=i.elements[d];"RestElement"===u.type?handleProperty(t,e,r,n,u.argument,s+".slice("+d+")",a,o):handleProperty(t,e,r,n,u,s+"["+d+"]",a,o),n=u.end}t.remove(n,i.end);break;default:throw new Error("Unexpected node type in destructuring ("+i.type+")")}}var m=function(t){function BlockStatement(){t.apply(this,arguments)}return t&&(BlockStatement.__proto__=t),BlockStatement.prototype=Object.create(t&&t.prototype),BlockStatement.prototype.constructor=BlockStatement,BlockStatement.prototype.createScope=function createScope(){var t=this;this.parentIsFunction=/Function/.test(this.parent.type),this.isFunctionBlock=this.parentIsFunction||"Root"===this.parent.type,this.scope=new Scope({block:!this.isFunctionBlock,parent:this.parent.findScope(!1),declare:function(e){return t.createdDeclarations.push(e)}}),this.parentIsFunction&&this.parent.params.forEach((function(e){t.scope.addDeclaration(e,"param")}))},BlockStatement.prototype.initialise=function initialise(t){this.thisAlias=null,this.argumentsAlias=null,this.defaultParameters=[],this.createdDeclarations=[],this.scope||this.createScope(),this.body.forEach((function(e){return e.initialise(t)})),this.scope.consolidate()},BlockStatement.prototype.findLexicalBoundary=function findLexicalBoundary(){return"Program"===this.type||/^Function/.test(this.parent.type)?this:this.parent.findLexicalBoundary()},BlockStatement.prototype.findScope=function findScope(t){return t&&!this.isFunctionBlock?this.parent.findScope(t):this.scope},BlockStatement.prototype.getArgumentsAlias=function getArgumentsAlias(){return this.argumentsAlias||(this.argumentsAlias=this.scope.createIdentifier("arguments")),this.argumentsAlias},BlockStatement.prototype.getArgumentsArrayAlias=function getArgumentsArrayAlias(){return this.argumentsArrayAlias||(this.argumentsArrayAlias=this.scope.createIdentifier("argsArray")),this.argumentsArrayAlias},BlockStatement.prototype.getThisAlias=function getThisAlias(){return this.thisAlias||(this.thisAlias=this.scope.createIdentifier("this")),this.thisAlias},BlockStatement.prototype.getIndentation=function getIndentation(){if(void 0===this.indentation){for(var t=this.program.magicString.original,e=this.synthetic||!this.body.length,r=e?this.start:this.body[0].start;r&&"\n"!==t[r];)r-=1;for(this.indentation="";;){var n=t[r+=1];if(" "!==n&&"\t"!==n)break;this.indentation+=n}for(var i=this.program.magicString.getIndentString(),s=this.parent;s;)"constructor"!==s.kind||s.parent.parent.superClass||(this.indentation=this.indentation.replace(i,"")),s=s.parent;e&&(this.indentation+=i)}return this.indentation},BlockStatement.prototype.transpile=function transpile(e,r){var n,i,s=this,a=this.getIndentation(),o=[];if(this.argumentsAlias&&o.push((function(t,r,n){var i=r+"var "+s.argumentsAlias+" = arguments"+n;e.appendLeft(t,i)})),this.thisAlias&&o.push((function(t,r,n){var i=r+"var "+s.thisAlias+" = this"+n;e.appendLeft(t,i)})),this.argumentsArrayAlias&&o.push((function(t,r,n){var i=s.scope.createIdentifier("i"),o=r+"var "+i+" = arguments.length, "+s.argumentsArrayAlias+" = Array("+i+");\n"+a+"while ( "+i+"-- ) "+s.argumentsArrayAlias+"["+i+"] = arguments["+i+"]"+n;e.appendLeft(t,o)})),/Function/.test(this.parent.type)?this.transpileParameters(this.parent.params,e,r,a,o):"CatchClause"===this.parent.type&&this.transpileParameters([this.parent.param],e,r,a,o),r.letConst&&this.isFunctionBlock&&this.transpileBlockScopedIdentifiers(e),t.prototype.transpile.call(this,e,r),this.createdDeclarations.length&&o.push((function(t,r,n){var i=r+"var "+s.createdDeclarations.join(", ")+n;e.appendLeft(t,i)})),this.synthetic)if("ArrowFunctionExpression"===this.parent.type){var p=this.body[0];o.length?(e.appendLeft(this.start,"{").prependRight(this.end,this.parent.getIndentation()+"}"),e.prependRight(p.start,"\n"+a+"return "),e.appendLeft(p.end,";\n")):r.arrow&&(e.prependRight(p.start,"{ return "),e.appendLeft(p.end,"; }"))}else o.length&&e.prependRight(this.start,"{").appendLeft(this.end,"}");i=this.body[0],n=i&&"ExpressionStatement"===i.type&&"Literal"===i.expression.type&&"use strict"===i.expression.value?this.body[0].end:this.synthetic||"Root"===this.parent.type?this.start:this.start+1;var l="\n"+a,c=";";o.forEach((function(t,e){e===o.length-1&&(c=";\n"),t(n,l,c)}))},BlockStatement.prototype.transpileParameters=function transpileParameters(t,e,r,n,i){var s=this;t.forEach((function(a){if("AssignmentPattern"===a.type&&"Identifier"===a.left.type)r.defaultParameter&&i.push((function(t,r,n){var i=r+"if ( "+a.left.name+" === void 0 ) "+a.left.name;e.prependRight(a.left.end,i).move(a.left.end,a.right.end,t).appendLeft(a.right.end,n)}));else if("RestElement"===a.type)r.spreadRest&&i.push((function(r,i,o){var p=t[t.length-2];if(p)e.remove(p?p.end:a.start,a.end);else{for(var l=a.start,c=a.end;/\s/.test(e.original[l-1]);)l-=1;for(;/\s/.test(e.original[c]);)c+=1;e.remove(l,c)}var h=a.argument.name,d=s.scope.createIdentifier("len"),u=t.length-1;u?e.prependRight(r,i+"var "+h+" = [], "+d+" = arguments.length - "+u+";\n"+n+"while ( "+d+"-- > 0 ) "+h+"[ "+d+" ] = arguments[ "+d+" + "+u+" ]"+o):e.prependRight(r,i+"var "+h+" = [], "+d+" = arguments.length;\n"+n+"while ( "+d+"-- ) "+h+"[ "+d+" ] = arguments[ "+d+" ]"+o)}));else if("Identifier"!==a.type&&r.parameterDestructuring){var o=s.scope.createIdentifier("ref");destructure(e,(function(t){return s.scope.createIdentifier(t)}),(function(t){var e=t.name;return s.scope.resolveName(e)}),a,o,!1,i),e.prependRight(a.start,o)}}))},BlockStatement.prototype.transpileBlockScopedIdentifiers=function transpileBlockScopedIdentifiers(t){var e=this;Object.keys(this.scope.blockScopedDeclarations).forEach((function(r){for(var n=0,i=e.scope.blockScopedDeclarations[r];n<i.length;n+=1){var s=i[n],a=!1;if("for.let"===s.kind){var o=s.node.findNearest("ForStatement");if(o.shouldRewriteAsFunction){var p=e.scope.createIdentifier(r),l=o.reassigned[r]?e.scope.createIdentifier(r):r;s.name=p,t.overwrite(s.node.start,s.node.end,p,{storeName:!0}),o.aliases[r]={outer:p,inner:l};for(var c=0,h=s.instances;c<h.length;c+=1){var d=h[c],u=o.body.contains(d)?l:p;r!==u&&t.overwrite(d.start,d.end,u,{storeName:!0})}a=!0}}if(!a){var f=e.scope.createIdentifier(r);if(r!==f){var m=s.node.parent;s.name=f,t.overwrite(s.node.start,s.node.end,f,{storeName:!0}),"Property"===m.type&&m.shorthand&&(m.shorthand=!1,t.prependLeft(s.node.start,r+": "));for(var y=0,g=s.instances;y<g.length;y+=1){var v=g[y];v.rewritten=!0;var S=v.parent;t.overwrite(v.start,v.end,f,{storeName:!0}),"Property"===S.type&&S.shorthand&&(S.shorthand=!1,t.prependLeft(v.start,r+": "))}}}}}))},BlockStatement}(c);function isArguments(t){return"Identifier"===t.type&&"arguments"===t.name}function inlineSpreads(t,e,r){for(var n=r.length;n--;){var i=r[n];if(i&&"SpreadElement"===i.type){var s=i.argument;if("ArrayExpression"===s.type){var a=s.elements;if(!a.some((function(t){return null===t}))){var o=n===r.length-1;0===a.length?t.remove(o&&0!==n?r[n-1].end:i.start,o?e.end-1:r[n+1].start):(t.remove(i.start,a[0].start),t.remove(a[a.length-1].end,o?e.end-1:i.end)),r.splice.apply(r,[n,1].concat(a)),n+=a.length}}}}}function needsParentheses(t){switch(t.type){case"ArrayExpression":case"CallExpression":case"Identifier":case"ParenthesizedExpression":case"ThisExpression":return!1;default:return!0}}function spread(t,e,r,n,i){for(var s=e.length,a=-1;s--;){var o=e[s];o&&"SpreadElement"===o.type&&(isArguments(o.argument)&&t.overwrite(o.argument.start,o.argument.end,n),a=s)}if(-1===a)return!1;if(i){for(s=0;s<e.length;s+=1){var p=e[s];"SpreadElement"===p.type?t.remove(p.start,p.argument.start):(t.prependRight(p.start,"["),t.prependRight(p.end,"]"))}return!0}var l=e[a],c=e[a-1];if(c)t.overwrite(c.end,l.start," ].concat( ");else{var h;if(r!==l.start)(h=needsParentheses(l.argument))?t.overwrite(r,l.start,"( "):t.remove(r,l.start);else{if("CallExpression"!==l.parent.type)throw new u("Unsupported spread construct, please raise an issue at https://github.com/bublejs/buble/issues",l);h=needsParentheses(l.argument)}t.overwrite(l.end,e[1].start,h?" ).concat( ":".concat( ")}for(s=a;s<e.length;s+=1)(l=e[s])&&("SpreadElement"===l.type?t.remove(l.start,l.argument.start):(t.appendLeft(l.start,"["),t.appendLeft(l.end,"]")));return!0}var y=function(t){function ArrayExpression(){t.apply(this,arguments)}return t&&(ArrayExpression.__proto__=t),ArrayExpression.prototype=Object.create(t&&t.prototype),ArrayExpression.prototype.constructor=ArrayExpression,ArrayExpression.prototype.initialise=function initialise(e){if(e.spreadRest&&this.elements.length)for(var r=this.findLexicalBoundary(),n=this.elements.length;n--;){var i=this.elements[n];i&&"SpreadElement"===i.type&&isArguments(i.argument)&&(this.argumentsArrayAlias=r.getArgumentsArrayAlias())}t.prototype.initialise.call(this,e)},ArrayExpression.prototype.transpile=function transpile(e,r){if(t.prototype.transpile.call(this,e,r),r.spreadRest){if(inlineSpreads(e,this,this.elements),this.elements.length){var n=this.elements[this.elements.length-1];n&&/\s*,/.test(e.original.slice(n.end,this.end))&&e.overwrite(n.end,this.end-1," ")}if(1===this.elements.length){var i=this.elements[0];i&&"SpreadElement"===i.type&&(isArguments(i.argument)?e.overwrite(this.start,this.end,"[].concat( "+this.argumentsArrayAlias+" )"):(e.overwrite(this.start,i.argument.start,"[].concat( "),e.overwrite(i.end,this.end," )")))}else{spread(e,this.elements,this.start,this.argumentsArrayAlias)&&e.overwrite(this.end-1,this.end,")")}}},ArrayExpression}(c);function removeTrailingComma(t,e){for(;")"!==t.original[e];){if(","===t.original[e])return void t.remove(e,e+1);"/"===t.original[e]&&(e="/"===t.original[e+1]?t.original.indexOf("\n",e):t.original.indexOf("*/",e)+1),e+=1}}var g=function(t){function ArrowFunctionExpression(){t.apply(this,arguments)}return t&&(ArrowFunctionExpression.__proto__=t),ArrowFunctionExpression.prototype=Object.create(t&&t.prototype),ArrowFunctionExpression.prototype.constructor=ArrowFunctionExpression,ArrowFunctionExpression.prototype.initialise=function initialise(e){this.async&&e.asyncAwait&&u.missingTransform("async arrow functions","asyncAwait",this),this.body.createScope(),t.prototype.initialise.call(this,e)},ArrowFunctionExpression.prototype.transpile=function transpile(e,r){for(var n=this.start,i=(this.body||this.params[0]).start-1;"("!==e.original[n]&&n<i;)++n;"("!==e.original[n]&&(n=-1);var s=-1===n;if(r.arrow||this.needsArguments(r)){for(var a=this.body.start;"="!==e.original[a];)a-=1;e.remove(a,this.body.start),t.prototype.transpile.call(this,e,r),s&&(e.prependRight(this.params[0].start,"("),e.appendLeft(this.params[0].end,")"));var o,p=this.parent&&"ExpressionStatement"===this.parent.type,l=p?"!":"";this.async&&(l+="async "),l+="function",p||(l+=" "),(o=s?this.params[0].start:n)>this.start?e.overwrite(this.start,o,l):e.prependRight(this.start,l)}else t.prototype.transpile.call(this,e,r);r.trailingFunctionCommas&&this.params.length&&!s&&removeTrailingComma(e,this.params[this.params.length-1].end)},ArrowFunctionExpression.prototype.needsArguments=function needsArguments(t){return t.spreadRest&&this.params.filter((function(t){return"RestElement"===t.type})).length>0},ArrowFunctionExpression}(c);function checkConst(t,e){var r=e.findDeclaration(t.name);if(r&&"const"===r.kind)throw new u(t.name+" is read-only",t)}var v=function(t){function AssignmentExpression(){t.apply(this,arguments)}return t&&(AssignmentExpression.__proto__=t),AssignmentExpression.prototype=Object.create(t&&t.prototype),AssignmentExpression.prototype.constructor=AssignmentExpression,AssignmentExpression.prototype.initialise=function initialise(e){if("Identifier"===this.left.type){var r=this.findScope(!1).findDeclaration(this.left.name),n=r&&r.node.ancestor(3);n&&"ForStatement"===n.type&&n.body.contains(this)&&(n.reassigned[this.left.name]=!0)}t.prototype.initialise.call(this,e)},AssignmentExpression.prototype.transpile=function transpile(e,r){"Identifier"===this.left.type&&checkConst(this.left,this.findScope(!1)),"**="===this.operator&&r.exponentiation?this.transpileExponentiation(e,r):/Pattern/.test(this.left.type)&&r.destructuring&&this.transpileDestructuring(e),t.prototype.transpile.call(this,e,r)},AssignmentExpression.prototype.transpileDestructuring=function transpileDestructuring(t){var e=this,r=this.findScope(!0),n=this.findScope(!1),i=r.createDeclaration("assign");t.appendRight(this.left.end,"("+i),t.appendLeft(this.right.end,", ");var s=[];destructure(t,(function(t){return r.createDeclaration(t)}),(function(t){var e=n.resolveName(t.name);return checkConst(t,n),e}),this.left,i,!0,s);var a=", ";s.forEach((function(t,r){r===s.length-1&&(a=""),t(e.end,"",a)})),"ExpressionStatement"===this.unparenthesizedParent().type?t.prependRight(this.end,")"):t.appendRight(this.end,", "+i+")")},AssignmentExpression.prototype.transpileExponentiation=function transpileExponentiation(t){for(var e,r=this.findScope(!1),n=this.left.end;"*"!==t.original[n];)n+=1;t.remove(n,n+2);var i=this.left.unparenthesize();if("Identifier"===i.type)e=r.resolveName(i.name);else if("MemberExpression"===i.type){var s,a,o=!1,p=!1,l=this.findNearest(/(?:Statement|Declaration)$/),c=l.getIndentation();"Identifier"===i.property.type?a=i.computed?r.resolveName(i.property.name):i.property.name:(a=r.createDeclaration("property"),p=!0),"Identifier"===i.object.type?s=r.resolveName(i.object.name):(s=r.createDeclaration("object"),o=!0),i.start===l.start?o&&p?(t.prependRight(l.start,s+" = "),t.overwrite(i.object.end,i.property.start,";\n"+c+a+" = "),t.overwrite(i.property.end,i.end,";\n"+c+s+"["+a+"]")):o?(t.prependRight(l.start,s+" = "),t.appendLeft(i.object.end,";\n"+c),t.appendLeft(i.object.end,s)):p&&(t.prependRight(i.property.start,a+" = "),t.appendLeft(i.property.end,";\n"+c),t.move(i.property.start,i.property.end,this.start),t.appendLeft(i.object.end,"["+a+"]"),t.remove(i.object.end,i.property.start),t.remove(i.property.end,i.end)):(o&&p?(t.prependRight(i.start,"( "+s+" = "),t.overwrite(i.object.end,i.property.start,", "+a+" = "),t.overwrite(i.property.end,i.end,", "+s+"["+a+"]")):o?(t.prependRight(i.start,"( "+s+" = "),t.appendLeft(i.object.end,", "+s)):p&&(t.prependRight(i.property.start,"( "+a+" = "),t.appendLeft(i.property.end,", "),t.move(i.property.start,i.property.end,i.start),t.overwrite(i.object.end,i.property.start,"["+a+"]"),t.remove(i.property.end,i.end)),p&&t.appendLeft(this.end," )")),e=s+(i.computed||p?"["+a+"]":"."+a)}t.prependRight(this.right.start,"Math.pow( "+e+", "),t.appendLeft(this.right.end," )")},AssignmentExpression}(c),S=function(t){function AwaitExpression(){t.apply(this,arguments)}return t&&(AwaitExpression.__proto__=t),AwaitExpression.prototype=Object.create(t&&t.prototype),AwaitExpression.prototype.constructor=AwaitExpression,AwaitExpression.prototype.initialise=function initialise(e){e.asyncAwait&&u.missingTransform("await","asyncAwait",this),t.prototype.initialise.call(this,e)},AwaitExpression}(c),b=function(t){function BinaryExpression(){t.apply(this,arguments)}return t&&(BinaryExpression.__proto__=t),BinaryExpression.prototype=Object.create(t&&t.prototype),BinaryExpression.prototype.constructor=BinaryExpression,BinaryExpression.prototype.transpile=function transpile(e,r){"**"===this.operator&&r.exponentiation&&(e.prependRight(this.start,"Math.pow( "),e.overwrite(this.left.end,this.right.start,", "),e.appendLeft(this.end," )")),t.prototype.transpile.call(this,e,r)},BinaryExpression}(c),E=/(?:For(?:In|Of)?|While)Statement/,x=function(t){function BreakStatement(){t.apply(this,arguments)}return t&&(BreakStatement.__proto__=t),BreakStatement.prototype=Object.create(t&&t.prototype),BreakStatement.prototype.constructor=BreakStatement,BreakStatement.prototype.initialise=function initialise(){var t=this.findNearest(E),e=this.findNearest("SwitchCase");t&&(!e||t.depth>e.depth)&&(t.canBreak=!0,this.loop=t)},BreakStatement.prototype.transpile=function transpile(t){if(this.loop&&this.loop.shouldRewriteAsFunction){if(this.label)throw new u("Labels are not currently supported in a loop with locally-scoped variables",this);t.overwrite(this.start,this.start+5,"return 'break'")}},BreakStatement}(c),_=function(t){function CallExpression(){t.apply(this,arguments)}return t&&(CallExpression.__proto__=t),CallExpression.prototype=Object.create(t&&t.prototype),CallExpression.prototype.constructor=CallExpression,CallExpression.prototype.initialise=function initialise(e){if(e.spreadRest&&this.arguments.length>1)for(var r=this.findLexicalBoundary(),n=this.arguments.length;n--;){var i=this.arguments[n];"SpreadElement"===i.type&&isArguments(i.argument)&&(this.argumentsArrayAlias=r.getArgumentsArrayAlias())}t.prototype.initialise.call(this,e)},CallExpression.prototype.transpile=function transpile(e,r){if(r.spreadRest&&this.arguments.length&&inlineSpreads(e,this,this.arguments),r.spreadRest&&this.arguments.length){var n,i=!1,s=this.arguments[0];if(1===this.arguments.length?"SpreadElement"===s.type&&(e.remove(s.start,s.argument.start),i=!0):i=spread(e,this.arguments,s.start,this.argumentsArrayAlias),i){var a=null;if("Super"===this.callee.type?a=this.callee:"MemberExpression"===this.callee.type&&"Super"===this.callee.object.type&&(a=this.callee.object),a||"MemberExpression"!==this.callee.type)n="void 0";else if("Identifier"===this.callee.object.type)n=this.callee.object.name;else{n=this.findScope(!0).createDeclaration("ref");var o=this.callee.object;e.prependRight(o.start,"("+n+" = "),e.appendLeft(o.end,")")}e.appendLeft(this.callee.end,".apply"),a?(a.noCall=!0,this.arguments.length>1&&("SpreadElement"===s.type?needsParentheses(s.argument)&&e.prependRight(s.start,"( "):e.prependRight(s.start,"[ "),e.appendLeft(this.arguments[this.arguments.length-1].end," )"))):1===this.arguments.length?e.prependRight(s.start,n+", "):("SpreadElement"===s.type?needsParentheses(s.argument)?e.appendLeft(s.start,n+", ( "):e.appendLeft(s.start,n+", "):e.appendLeft(s.start,n+", [ "),e.appendLeft(this.arguments[this.arguments.length-1].end," )"))}}r.trailingFunctionCommas&&this.arguments.length&&removeTrailingComma(e,this.arguments[this.arguments.length-1].end),t.prototype.transpile.call(this,e,r)},CallExpression}(c),w=function(t){function CatchClause(){t.apply(this,arguments)}return t&&(CatchClause.__proto__=t),CatchClause.prototype=Object.create(t&&t.prototype),CatchClause.prototype.constructor=CatchClause,CatchClause.prototype.initialise=function initialise(e){var r=this;this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(t){return r.createdDeclarations.push(t)}}),this.scope.addDeclaration(this.param,"catch"),t.prototype.initialise.call(this,e),this.scope.consolidate()},CatchClause.prototype.findScope=function findScope(t){return t?this.parent.findScope(t):this.scope},CatchClause}(c),A=function(t){function ClassBody(){t.apply(this,arguments)}return t&&(ClassBody.__proto__=t),ClassBody.prototype=Object.create(t&&t.prototype),ClassBody.prototype.constructor=ClassBody,ClassBody.prototype.transpile=function transpile(e,r,n,i){var s=this;if(r.classes){var a=this.parent.name,o=e.getIndentString(),p=this.getIndentation()+(n?o:""),l=p+o,c=findIndex(this.body,(function(t){return"constructor"===t.kind})),h=this.body[c],f="",m="";if(this.body.length?(e.remove(this.start,this.body[0].start),e.remove(this.body[this.body.length-1].end,this.end)):e.remove(this.start,this.end),h){h.value.body.isConstructorBody=!0;var y=this.body[c-1],g=this.body[c+1];c>0&&(e.remove(y.end,h.start),e.move(h.start,g?g.start:this.end-1,this.body[0].start)),n||e.appendLeft(h.end,";")}var v=!1!==this.program.options.namedFunctionExpressions,S=v||this.parent.superClass||"ClassDeclaration"!==this.parent.type;if(this.parent.superClass){var b="if ( "+i+" ) "+a+".__proto__ = "+i+";\n"+p+a+".prototype = Object.create( "+i+" && "+i+".prototype );\n"+p+a+".prototype.constructor = "+a+";";if(h)f+="\n\n"+p+b;else f+=(b="function "+a+" () {"+(i?"\n"+l+i+".apply(this, arguments);\n"+p+"}":"}")+(n?"":";")+(this.body.length?"\n\n"+p:"")+b)+"\n\n"+p}else if(!h){var E="function "+(S?a+" ":"")+"() {}";"ClassDeclaration"===this.parent.type&&(E+=";"),this.body.length&&(E+="\n\n"+p),f+=E}var x,_,w=this.findScope(!1),A=[],k=[];if(this.body.forEach((function(t,n){if("get"!==t.kind&&"set"!==t.kind||!r.getterSetter||u.missingTransform("getters and setters","getterSetter",t),"constructor"!==t.kind){if(t.static){var i=" "==e.original[t.start+6]?7:6;e.remove(t.start,t.start+i)}var o,l="method"!==t.kind,h=t.key.name;(d[h]||t.value.body.scope.references[h])&&(h=w.createIdentifier(h));var f=!1;if(t.computed||"Literal"!==t.key.type||(f=!0,t.computed=!0),l){if(t.computed)throw new Error("Computed accessor properties are not currently supported");e.remove(t.start,t.key.start),t.static?(~k.indexOf(t.key.name)||k.push(t.key.name),_||(_=w.createIdentifier("staticAccessors")),o=""+_):(~A.indexOf(t.key.name)||A.push(t.key.name),x||(x=w.createIdentifier("prototypeAccessors")),o=""+x)}else o=t.static?""+a:a+".prototype";t.computed||(o+="."),(c>0&&n===c+1||0===n&&c===s.body.length-1)&&(o="\n\n"+p+o);var m=t.key.end;if(t.computed)if(f)e.prependRight(t.key.start,"["),e.appendLeft(t.key.end,"]");else{for(;"]"!==e.original[m];)m+=1;m+=1}var y=t.computed||l||!v?"":h+" ",g=(l?"."+t.kind:"")+" = "+(t.value.async?"async ":"")+"function"+(t.value.generator?"* ":" ")+y;e.remove(m,t.value.start),e.prependRight(t.value.start,g),e.appendLeft(t.end,";"),t.value.generator&&e.remove(t.start,t.key.start);var b=t.key.start;if(t.computed&&!f)for(;"["!=e.original[b];)--b;t.start<b?e.overwrite(t.start,b,o):e.prependRight(t.start,o)}else{var E=S?" "+a:"";e.overwrite(t.key.start,t.key.end,"function"+E)}})),A.length||k.length){var I=[],C=[];A.length&&(I.push("var "+x+" = { "+A.map((function(t){return t+": { configurable: true }"})).join(",")+" };"),C.push("Object.defineProperties( "+a+".prototype, "+x+" );")),k.length&&(I.push("var "+_+" = { "+k.map((function(t){return t+": { configurable: true }"})).join(",")+" };"),C.push("Object.defineProperties( "+a+", "+_+" );")),h&&(f+="\n\n"+p),f+=I.join("\n"+p),h||(f+="\n\n"+p),m+="\n\n"+p+C.join("\n"+p)}h?e.appendLeft(h.end,f):e.prependRight(this.start,f),e.appendLeft(this.end,m)}t.prototype.transpile.call(this,e,r)},ClassBody}(c);function deindent(t,e){var r=t.start,n=t.end,i=e.getIndentString(),s=i.length,a=r-s;t.program.indentExclusions[a]||e.original.slice(a,r)!==i||e.remove(a,r);for(var o,p=new RegExp(i+"\\S","g"),l=e.original.slice(r,n);o=p.exec(l);){var c=r+o.index;t.program.indentExclusions[c]||e.remove(c,c+s)}}var k=function(t){function ClassDeclaration(){t.apply(this,arguments)}return t&&(ClassDeclaration.__proto__=t),ClassDeclaration.prototype=Object.create(t&&t.prototype),ClassDeclaration.prototype.constructor=ClassDeclaration,ClassDeclaration.prototype.initialise=function initialise(e){this.id?(this.name=this.id.name,this.findScope(!0).addDeclaration(this.id,"class")):this.name=this.findScope(!0).createIdentifier("defaultExport"),t.prototype.initialise.call(this,e)},ClassDeclaration.prototype.transpile=function transpile(t,e){if(e.classes){this.superClass||deindent(this.body,t);var r=this.superClass&&(this.superClass.name||"superclass"),n=this.getIndentation(),i=n+t.getIndentString(),s="ExportDefaultDeclaration"===this.parent.type;s&&t.remove(this.parent.start,this.start);var a=this.start;this.id?(t.overwrite(a,this.id.start,"var "),a=this.id.end):t.prependLeft(a,"var "+this.name),this.superClass?this.superClass.end===this.body.start?(t.remove(a,this.superClass.start),t.appendLeft(a," = /*@__PURE__*/(function ("+r+") {\n"+i)):(t.overwrite(a,this.superClass.start," = "),t.overwrite(this.superClass.end,this.body.start,"/*@__PURE__*/(function ("+r+") {\n"+i)):a===this.body.start?t.appendLeft(a," = "):t.overwrite(a,this.body.start," = "),this.body.transpile(t,e,!!this.superClass,r);var o=s?"\n\n"+n+"export default "+this.name+";":"";this.superClass?(t.appendLeft(this.end,"\n\n"+i+"return "+this.name+";\n"+n+"}("),t.move(this.superClass.start,this.superClass.end,this.end),t.prependRight(this.end,"));"+o)):o&&t.prependRight(this.end,o)}else this.body.transpile(t,e,!1,null)},ClassDeclaration}(c),I=function(t){function ClassExpression(){t.apply(this,arguments)}return t&&(ClassExpression.__proto__=t),ClassExpression.prototype=Object.create(t&&t.prototype),ClassExpression.prototype.constructor=ClassExpression,ClassExpression.prototype.initialise=function initialise(e){this.name=(this.id?this.id.name:"VariableDeclarator"===this.parent.type?this.parent.id.name:"AssignmentExpression"!==this.parent.type?null:"Identifier"===this.parent.left.type?this.parent.left.name:"MemberExpression"===this.parent.left.type?this.parent.left.property.name:null)||this.findScope(!0).createIdentifier("anonymous"),t.prototype.initialise.call(this,e)},ClassExpression.prototype.transpile=function transpile(t,e){if(e.classes){var r=this.superClass&&(this.superClass.name||"superclass");r===this.name&&(r=this.findScope(!0).createIdentifier(this.name));var n=this.getIndentation(),i=n+t.getIndentString();this.superClass?(t.remove(this.start,this.superClass.start),t.remove(this.superClass.end,this.body.start),t.appendRight(this.start,"/*@__PURE__*/(function ("+r+") {\n"+i)):t.overwrite(this.start,this.body.start,"/*@__PURE__*/(function () {\n"+i),this.body.transpile(t,e,!0,r);var s="";this.superClass&&(s=t.slice(this.superClass.start,this.superClass.end),t.remove(this.superClass.start,this.superClass.end)),t.appendLeft(this.end,"\n\n"+i+"return "+this.name+";\n"+n+"}("+s+"))")}else this.body.transpile(t,e,!1)},ClassExpression}(c),C=function(t){function ContinueStatement(){t.apply(this,arguments)}return t&&(ContinueStatement.__proto__=t),ContinueStatement.prototype=Object.create(t&&t.prototype),ContinueStatement.prototype.constructor=ContinueStatement,ContinueStatement.prototype.transpile=function transpile(t){if(this.findNearest(E).shouldRewriteAsFunction){if(this.label)throw new u("Labels are not currently supported in a loop with locally-scoped variables",this);t.overwrite(this.start,this.start+8,"return")}},ContinueStatement}(c),j=function(t){function ExportDefaultDeclaration(){t.apply(this,arguments)}return t&&(ExportDefaultDeclaration.__proto__=t),ExportDefaultDeclaration.prototype=Object.create(t&&t.prototype),ExportDefaultDeclaration.prototype.constructor=ExportDefaultDeclaration,ExportDefaultDeclaration.prototype.initialise=function initialise(e){e.moduleExport&&u.missingTransform("export","moduleExport",this),t.prototype.initialise.call(this,e)},ExportDefaultDeclaration}(c),O=function(t){function ExportNamedDeclaration(){t.apply(this,arguments)}return t&&(ExportNamedDeclaration.__proto__=t),ExportNamedDeclaration.prototype=Object.create(t&&t.prototype),ExportNamedDeclaration.prototype.constructor=ExportNamedDeclaration,ExportNamedDeclaration.prototype.initialise=function initialise(e){e.moduleExport&&u.missingTransform("export","moduleExport",this),t.prototype.initialise.call(this,e)},ExportNamedDeclaration}(c),L=function(t){function LoopStatement(){t.apply(this,arguments)}return t&&(LoopStatement.__proto__=t),LoopStatement.prototype=Object.create(t&&t.prototype),LoopStatement.prototype.constructor=LoopStatement,LoopStatement.prototype.findScope=function findScope(t){return t||!this.createdScope?this.parent.findScope(t):this.body.scope},LoopStatement.prototype.initialise=function initialise(e){this.body.createScope(),this.createdScope=!0,this.reassigned=Object.create(null),this.aliases=Object.create(null),this.thisRefs=[],t.prototype.initialise.call(this,e),this.scope&&this.scope.consolidate();var r=Object.assign({},this.body.scope.declarations);if(this.scope&&Object.assign(r,this.scope.declarations),e.letConst)for(var n=Object.keys(r),i=n.length;i--;){for(var s=r[n[i]],a=s.instances.length;a--;){var o=s.instances[a].findNearest(/Function/);if(o&&o.depth>this.depth){this.shouldRewriteAsFunction=!0;for(var p=0,l=this.thisRefs;p<l.length;p+=1){var c=l[p];c.alias=c.alias||c.findLexicalBoundary().getThisAlias()}break}}if(this.shouldRewriteAsFunction)break}},LoopStatement.prototype.transpile=function transpile(e,r){var n="ForOfStatement"!=this.type&&("BlockStatement"!==this.body.type||"BlockStatement"===this.body.type&&this.body.synthetic);if(this.shouldRewriteAsFunction){var i=this.getIndentation(),s=i+e.getIndentString(),a=this.args?" "+this.args.join(", ")+" ":"",o=this.params?" "+this.params.join(", ")+" ":"",p=this.findScope(!0),l=p.createIdentifier("loop"),c="var "+l+" = function ("+o+") "+(this.body.synthetic?"{\n"+i+e.getIndentString():""),h=(this.body.synthetic?"\n"+i+"}":"")+";\n\n"+i;if(e.prependRight(this.body.start,c),e.appendLeft(this.body.end,h),e.move(this.start,this.body.start,this.body.end),this.canBreak||this.canReturn){var d=p.createIdentifier("returned"),u="{\n"+s+"var "+d+" = "+l+"("+a+");\n";this.canBreak&&(u+="\n"+s+"if ( "+d+" === 'break' ) break;"),this.canReturn&&(u+="\n"+s+"if ( "+d+" ) return "+d+".v;"),u+="\n"+i+"}",e.prependRight(this.body.end,u)}else{var f=l+"("+a+");";"DoWhileStatement"===this.type?e.overwrite(this.start,this.body.start,"do {\n"+s+f+"\n"+i+"}"):e.prependRight(this.body.end,f)}}else n&&(e.appendLeft(this.body.start,"{ "),e.prependRight(this.body.end," }"));t.prototype.transpile.call(this,e,r)},LoopStatement}(c),D=function(t){function ForStatement(){t.apply(this,arguments)}return t&&(ForStatement.__proto__=t),ForStatement.prototype=Object.create(t&&t.prototype),ForStatement.prototype.constructor=ForStatement,ForStatement.prototype.initialise=function initialise(e){var r=this;this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(t){return r.createdDeclarations.push(t)}}),t.prototype.initialise.call(this,e)},ForStatement.prototype.findScope=function findScope(t){return t?this.parent.findScope(t):this.scope},ForStatement.prototype.transpile=function transpile(e,r){var n=this,i=this.getIndentation()+e.getIndentString();if(this.shouldRewriteAsFunction){var s=this.init&&"VariableDeclaration"===this.init.type?this.init.declarations.map((function(t){return extractNames(t.id)})):[],a=this.aliases;this.args=s.map((function(t){return t in n.aliases?n.aliases[t].outer:t})),this.params=s.map((function(t){return t in n.aliases?n.aliases[t].inner:t}));var o=Object.keys(this.reassigned).map((function(t){return a[t].outer+" = "+a[t].inner+";"}));if(o.length)if(this.body.synthetic)e.appendLeft(this.body.body[0].end,"; "+o.join(" "));else{var p=this.body.body[this.body.body.length-1];e.appendLeft(p.end,"\n\n"+i+o.join("\n"+i))}}t.prototype.transpile.call(this,e,r)},ForStatement}(L),F=function(t){function ForInStatement(){t.apply(this,arguments)}return t&&(ForInStatement.__proto__=t),ForInStatement.prototype=Object.create(t&&t.prototype),ForInStatement.prototype.constructor=ForInStatement,ForInStatement.prototype.initialise=function initialise(e){var r=this;this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(t){return r.createdDeclarations.push(t)}}),t.prototype.initialise.call(this,e)},ForInStatement.prototype.findScope=function findScope(t){return t?this.parent.findScope(t):this.scope},ForInStatement.prototype.transpile=function transpile(e,r){var n=this,i="VariableDeclaration"===this.left.type;if(this.shouldRewriteAsFunction){var s=i?this.left.declarations.map((function(t){return extractNames(t.id)})):[];this.args=s.map((function(t){return t in n.aliases?n.aliases[t].outer:t})),this.params=s.map((function(t){return t in n.aliases?n.aliases[t].inner:t}))}t.prototype.transpile.call(this,e,r);var a=i?this.left.declarations[0].id:this.left;"Identifier"!==a.type&&"MemberExpression"!==a.type&&this.destructurePattern(e,a,i)},ForInStatement.prototype.destructurePattern=function destructurePattern(t,e,r){var n=this.findScope(!0),i=this.getIndentation()+t.getIndentString(),s=n.createIdentifier("ref"),a=this.body.body.length?this.body.body[0].start:this.body.start+1;t.move(e.start,e.end,a),t.prependRight(e.end,r?s:"var "+s);var o=[];destructure(t,(function(t){return n.createIdentifier(t)}),(function(t){var e=t.name;return n.resolveName(e)}),e,s,!1,o);var p=";\n"+i;o.forEach((function(t,e){e===o.length-1&&(p=";\n\n"+i),t(a,"",p)}))},ForInStatement}(L),R=function(t){function ForOfStatement(){t.apply(this,arguments)}return t&&(ForOfStatement.__proto__=t),ForOfStatement.prototype=Object.create(t&&t.prototype),ForOfStatement.prototype.constructor=ForOfStatement,ForOfStatement.prototype.initialise=function initialise(e){var r=this;e.forOf&&!e.dangerousForOf&&u.missingTransform("for-of statements","forOf",this,"dangerousForOf"),this.await&&e.asyncAwait&&u.missingTransform("for-await-of statements","asyncAwait",this),this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(t){return r.createdDeclarations.push(t)}}),t.prototype.initialise.call(this,e)},ForOfStatement.prototype.findScope=function findScope(t){return t?this.parent.findScope(t):this.scope},ForOfStatement.prototype.transpile=function transpile(e,r){if(t.prototype.transpile.call(this,e,r),r.dangerousForOf)if(this.body.body[0]){var n=this.findScope(!0),i=this.getIndentation(),s=i+e.getIndentString(),a=n.createIdentifier("i"),o=n.createIdentifier("list");this.body.synthetic&&(e.prependRight(this.left.start,"{\n"+s),e.appendLeft(this.body.body[0].end,"\n"+i+"}"));var p=this.body.body[0].start;e.remove(this.left.end,this.right.start),e.move(this.left.start,this.left.end,p),e.prependRight(this.right.start,"var "+a+" = 0, "+o+" = "),e.appendLeft(this.right.end,"; "+a+" < "+o+".length; "+a+" += 1");var l="VariableDeclaration"===this.left.type,c=l?this.left.declarations[0].id:this.left;if("Identifier"!==c.type){var h=[],d=n.createIdentifier("ref");destructure(e,(function(t){return n.createIdentifier(t)}),(function(t){var e=t.name;return n.resolveName(e)}),c,d,!l,h);var u=";\n"+s;h.forEach((function(t,e){e===h.length-1&&(u=";\n\n"+s),t(p,"",u)})),l?(e.appendLeft(this.left.start+this.left.kind.length+1,d),e.appendLeft(this.left.end," = "+o+"["+a+"];\n"+s)):e.appendLeft(this.left.end,"var "+d+" = "+o+"["+a+"];\n"+s)}else e.appendLeft(this.left.end," = "+o+"["+a+"];\n\n"+s)}else"VariableDeclaration"===this.left.type&&"var"===this.left.kind?(e.remove(this.start,this.left.start),e.appendLeft(this.left.end,";"),e.remove(this.left.end,this.end)):e.remove(this.start,this.end)},ForOfStatement}(L),P=function(t){function FunctionDeclaration(){t.apply(this,arguments)}return t&&(FunctionDeclaration.__proto__=t),FunctionDeclaration.prototype=Object.create(t&&t.prototype),FunctionDeclaration.prototype.constructor=FunctionDeclaration,FunctionDeclaration.prototype.initialise=function initialise(e){this.generator&&e.generator&&u.missingTransform("generators","generator",this),this.async&&e.asyncAwait&&u.missingTransform("async functions","asyncAwait",this),this.body.createScope(),this.id&&this.findScope(!0).addDeclaration(this.id,"function"),t.prototype.initialise.call(this,e)},FunctionDeclaration.prototype.transpile=function transpile(e,r){t.prototype.transpile.call(this,e,r),r.trailingFunctionCommas&&this.params.length&&removeTrailingComma(e,this.params[this.params.length-1].end)},FunctionDeclaration}(c),T=function(t){function FunctionExpression(){t.apply(this,arguments)}return t&&(FunctionExpression.__proto__=t),FunctionExpression.prototype=Object.create(t&&t.prototype),FunctionExpression.prototype.constructor=FunctionExpression,FunctionExpression.prototype.initialise=function initialise(e){this.generator&&e.generator&&u.missingTransform("generators","generator",this),this.async&&e.asyncAwait&&u.missingTransform("async functions","asyncAwait",this),this.body.createScope(),this.id&&this.body.scope.addDeclaration(this.id,"function"),t.prototype.initialise.call(this,e);var r,n=this.parent;if(e.conciseMethodProperty&&"Property"===n.type&&"init"===n.kind&&n.method&&"Identifier"===n.key.type||e.classes&&"MethodDefinition"===n.type&&"method"===n.kind&&"Identifier"===n.key.type?r=n.key.name:this.id&&"Identifier"===this.id.type&&(r=this.id.alias||this.id.name),r)for(var i=0,s=this.params;i<s.length;i+=1){var a=s[i];if("Identifier"===a.type&&r===a.name){var o=this.body.scope,p=o.declarations[r],l=o.createIdentifier(r);a.alias=l;for(var c=0,h=p.instances;c<h.length;c+=1){h[c].alias=l}break}}},FunctionExpression.prototype.transpile=function transpile(e,r){t.prototype.transpile.call(this,e,r),r.trailingFunctionCommas&&this.params.length&&removeTrailingComma(e,this.params[this.params.length-1].end)},FunctionExpression}(c);function isReference(t,e){return"MemberExpression"===t.type?!t.computed&&isReference(t.object,t):"Identifier"===t.type?!e||!/(Function|Class)Expression/.test(e.type)&&("VariableDeclarator"===e.type?t===e.init:"MemberExpression"===e.type||"MethodDefinition"===e.type?e.computed||t===e.object:"ArrayPattern"!==e.type&&("Property"===e.type?"ObjectPattern"!==e.parent.type&&(e.computed||t===e.value):"MethodDefinition"!==e.type&&("ExportSpecifier"!==e.type||t===e.local))):void 0}var J=function(t){function Identifier(){t.apply(this,arguments)}return t&&(Identifier.__proto__=t),Identifier.prototype=Object.create(t&&t.prototype),Identifier.prototype.constructor=Identifier,Identifier.prototype.findScope=function findScope(t){return this.parent.params&&~this.parent.params.indexOf(this)||"FunctionExpression"===this.parent.type&&this===this.parent.id?this.parent.body.scope:this.parent.findScope(t)},Identifier.prototype.initialise=function initialise(t){if(!this.isLabel()&&isReference(this,this.parent)){if(t.arrow&&"arguments"===this.name&&!this.findScope(!1).contains(this.name)){var e=this.findLexicalBoundary(),r=this.findNearest("ArrowFunctionExpression"),n=this.findNearest(E);r&&r.depth>e.depth&&(this.alias=e.getArgumentsAlias()),n&&n.body.contains(this)&&n.depth>e.depth&&(this.alias=e.getArgumentsAlias())}this.findScope(!1).addReference(this)}},Identifier.prototype.isLabel=function isLabel(){switch(this.parent.type){case"BreakStatement":case"ContinueStatement":case"LabeledStatement":return!0;default:return!1}},Identifier.prototype.transpile=function transpile(t){this.alias&&t.overwrite(this.start,this.end,this.alias,{storeName:!0,contentOnly:!0})},Identifier}(c),B=function(t){function IfStatement(){t.apply(this,arguments)}return t&&(IfStatement.__proto__=t),IfStatement.prototype=Object.create(t&&t.prototype),IfStatement.prototype.constructor=IfStatement,IfStatement.prototype.initialise=function initialise(e){t.prototype.initialise.call(this,e)},IfStatement.prototype.transpile=function transpile(e,r){("BlockStatement"!==this.consequent.type||"BlockStatement"===this.consequent.type&&this.consequent.synthetic)&&(e.appendLeft(this.consequent.start,"{ "),e.prependRight(this.consequent.end," }")),this.alternate&&"IfStatement"!==this.alternate.type&&("BlockStatement"!==this.alternate.type||"BlockStatement"===this.alternate.type&&this.alternate.synthetic)&&(e.appendLeft(this.alternate.start,"{ "),e.prependRight(this.alternate.end," }")),t.prototype.transpile.call(this,e,r)},IfStatement}(c),X=function(t){function Import(){t.apply(this,arguments)}return t&&(Import.__proto__=t),Import.prototype=Object.create(t&&t.prototype),Import.prototype.constructor=Import,Import.prototype.initialise=function initialise(e){e.moduleImport&&u.missingTransform("dynamic import expressions","moduleImport",this),t.prototype.initialise.call(this,e)},Import}(c),N=function(t){function ImportDeclaration(){t.apply(this,arguments)}return t&&(ImportDeclaration.__proto__=t),ImportDeclaration.prototype=Object.create(t&&t.prototype),ImportDeclaration.prototype.constructor=ImportDeclaration,ImportDeclaration.prototype.initialise=function initialise(e){e.moduleImport&&u.missingTransform("import","moduleImport",this),t.prototype.initialise.call(this,e)},ImportDeclaration}(c),M=function(t){function ImportDefaultSpecifier(){t.apply(this,arguments)}return t&&(ImportDefaultSpecifier.__proto__=t),ImportDefaultSpecifier.prototype=Object.create(t&&t.prototype),ImportDefaultSpecifier.prototype.constructor=ImportDefaultSpecifier,ImportDefaultSpecifier.prototype.initialise=function initialise(e){this.findScope(!0).addDeclaration(this.local,"import"),t.prototype.initialise.call(this,e)},ImportDefaultSpecifier}(c),V=function(t){function ImportSpecifier(){t.apply(this,arguments)}return t&&(ImportSpecifier.__proto__=t),ImportSpecifier.prototype=Object.create(t&&t.prototype),ImportSpecifier.prototype.constructor=ImportSpecifier,ImportSpecifier.prototype.initialise=function initialise(e){this.findScope(!0).addDeclaration(this.local,"import"),t.prototype.initialise.call(this,e)},ImportSpecifier}(c),U=function(t){function JSXAttribute(){t.apply(this,arguments)}return t&&(JSXAttribute.__proto__=t),JSXAttribute.prototype=Object.create(t&&t.prototype),JSXAttribute.prototype.constructor=JSXAttribute,JSXAttribute.prototype.transpile=function transpile(e,r){var n,i=this.name,s=i.start,a=i.name,o=this.value?this.value.start:this.name.end;e.overwrite(s,o,(/-/.test(n=a)?"'"+n+"'":n)+": "+(this.value?"":"true")),t.prototype.transpile.call(this,e,r)},JSXAttribute}(c);var W=function(t){function JSXClosingElement(){t.apply(this,arguments)}return t&&(JSXClosingElement.__proto__=t),JSXClosingElement.prototype=Object.create(t&&t.prototype),JSXClosingElement.prototype.constructor=JSXClosingElement,JSXClosingElement.prototype.transpile=function transpile(t){var e,r=!0,n=this.parent.children[this.parent.children.length-1];(n&&("JSXText"===(e=n).type&&!/\S/.test(e.value)&&/\n/.test(e.value))||this.parent.openingElement.attributes.length)&&(r=!1),t.overwrite(this.start,this.end,r?" )":")")},JSXClosingElement}(c);var q=function(t){function JSXClosingFragment(){t.apply(this,arguments)}return t&&(JSXClosingFragment.__proto__=t),JSXClosingFragment.prototype=Object.create(t&&t.prototype),JSXClosingFragment.prototype.constructor=JSXClosingFragment,JSXClosingFragment.prototype.transpile=function transpile(t){var e,r=!0,n=this.parent.children[this.parent.children.length-1];n&&("JSXText"===(e=n).type&&!/\S/.test(e.value)&&/\n/.test(e.value))&&(r=!1),t.overwrite(this.start,this.end,r?" )":")")},JSXClosingFragment}(c);function normalise(t,e){return e&&/\n/.test(t)&&(t=t.replace(/[ \f\n\r\t\v]+$/,"")),t=t.replace(/^\n\r?[ \f\n\r\t\v]+/,"").replace(/[ \f\n\r\t\v]*\n\r?[ \f\n\r\t\v]*/gm," "),JSON.stringify(t)}var z=function(t){function JSXElement(){t.apply(this,arguments)}return t&&(JSXElement.__proto__=t),JSXElement.prototype=Object.create(t&&t.prototype),JSXElement.prototype.constructor=JSXElement,JSXElement.prototype.transpile=function transpile(e,r){t.prototype.transpile.call(this,e,r);var n=this.children.filter((function(t){return"JSXText"!==t.type||(/[^ \f\n\r\t\v]/.test(t.raw)||!/\n/.test(t.raw))}));if(n.length){var i,s=(this.openingElement||this.openingFragment).end;for(i=0;i<n.length;i+=1){var a=n[i];if("JSXExpressionContainer"===a.type&&"JSXEmptyExpression"===a.expression.type);else{var o="\n"===e.original[s]&&"JSXText"!==a.type?"":" ";e.appendLeft(s,","+o)}if("JSXText"===a.type){var p=normalise(a.value,i===n.length-1);e.overwrite(a.start,a.end,p)}s=a.end}}},JSXElement}(c),$=function(t){function JSXExpressionContainer(){t.apply(this,arguments)}return t&&(JSXExpressionContainer.__proto__=t),JSXExpressionContainer.prototype=Object.create(t&&t.prototype),JSXExpressionContainer.prototype.constructor=JSXExpressionContainer,JSXExpressionContainer.prototype.transpile=function transpile(e,r){e.remove(this.start,this.expression.start),e.remove(this.expression.end,this.end),t.prototype.transpile.call(this,e,r)},JSXExpressionContainer}(c),H=function(t){function JSXFragment(){t.apply(this,arguments)}return t&&(JSXFragment.__proto__=t),JSXFragment.prototype=Object.create(t&&t.prototype),JSXFragment.prototype.constructor=JSXFragment,JSXFragment}(z),Q=function(t){function JSXOpeningElement(){t.apply(this,arguments)}return t&&(JSXOpeningElement.__proto__=t),JSXOpeningElement.prototype=Object.create(t&&t.prototype),JSXOpeningElement.prototype.constructor=JSXOpeningElement,JSXOpeningElement.prototype.transpile=function transpile(e,r){t.prototype.transpile.call(this,e,r),e.overwrite(this.start,this.name.start,this.program.jsx+"( ");var n="JSXIdentifier"===this.name.type&&this.name.name[0]===this.name.name[0].toLowerCase();n&&e.prependRight(this.name.start,"'");var i=this.attributes.length,s=this.name.end;if(i){var a,o,p,l=!1;for(a=0;a<i;a+=1)if("JSXSpreadAttribute"===this.attributes[a].type){l=!0;break}for(s=this.attributes[0].end,a=0;a<i;a+=1){var c=this.attributes[a];if(a>0&&(c.start===s?e.prependRight(s,", "):e.overwrite(s,c.start,", ")),l&&"JSXSpreadAttribute"!==c.type){var h=this.attributes[a-1],d=this.attributes[a+1];h&&"JSXSpreadAttribute"!==h.type||e.prependRight(c.start,"{ "),d&&"JSXSpreadAttribute"!==d.type||e.appendLeft(c.end," }")}s=c.end}if(l)if(1===i)p=n?"',":",";else{if(!this.program.options.objectAssign)throw new u("Mixed JSX attributes ending in spread requires specified objectAssign option with 'Object.assign' or polyfill helper.",this);p=n?"', "+this.program.options.objectAssign+"({},":", "+this.program.options.objectAssign+"({},",o=")"}else p=n?"', {":", {",o=" }";e.prependRight(this.name.end,p),o&&e.appendLeft(this.attributes[i-1].end,o)}else e.appendLeft(this.name.end,n?"', null":", null"),s=this.name.end;this.selfClosing?e.overwrite(s,this.end,this.attributes.length?")":" )"):e.remove(s,this.end)},JSXOpeningElement}(c),Z=function(t){function JSXOpeningFragment(){t.apply(this,arguments)}return t&&(JSXOpeningFragment.__proto__=t),JSXOpeningFragment.prototype=Object.create(t&&t.prototype),JSXOpeningFragment.prototype.constructor=JSXOpeningFragment,JSXOpeningFragment.prototype.transpile=function transpile(t){t.overwrite(this.start,this.end,this.program.jsx+"( "+this.program.jsxFragment+", null")},JSXOpeningFragment}(c),G=function(t){function JSXSpreadAttribute(){t.apply(this,arguments)}return t&&(JSXSpreadAttribute.__proto__=t),JSXSpreadAttribute.prototype=Object.create(t&&t.prototype),JSXSpreadAttribute.prototype.constructor=JSXSpreadAttribute,JSXSpreadAttribute.prototype.transpile=function transpile(e,r){e.remove(this.start,this.argument.start),e.remove(this.argument.end,this.end),t.prototype.transpile.call(this,e,r)},JSXSpreadAttribute}(c),K=/[\u2028-\u2029]/g,Y=function(t){function Literal(){t.apply(this,arguments)}return t&&(Literal.__proto__=t),Literal.prototype=Object.create(t&&t.prototype),Literal.prototype.constructor=Literal,Literal.prototype.initialise=function initialise(){"string"==typeof this.value&&this.program.indentExclusionElements.push(this)},Literal.prototype.transpile=function transpile(t,e){if(e.numericLiteral&&this.raw.match(/^0[bo]/i)&&t.overwrite(this.start,this.end,String(this.value),{storeName:!0,contentOnly:!0}),this.regex){var r=this.regex,n=r.pattern,i=r.flags;e.stickyRegExp&&/y/.test(i)&&u.missingTransform("the regular expression sticky flag","stickyRegExp",this),e.unicodeRegExp&&/u/.test(i)&&t.overwrite(this.start,this.end,"/"+l()(n,i)+"/"+i.replace("u",""),{contentOnly:!0})}else"string"==typeof this.value&&this.value.match(K)&&t.overwrite(this.start,this.end,this.raw.replace(K,(function(t){return"\u2028"==t?"\\u2028":"\\u2029"})),{contentOnly:!0})},Literal}(c),tt=function(t){function MemberExpression(){t.apply(this,arguments)}return t&&(MemberExpression.__proto__=t),MemberExpression.prototype=Object.create(t&&t.prototype),MemberExpression.prototype.constructor=MemberExpression,MemberExpression.prototype.transpile=function transpile(e,r){r.reservedProperties&&d[this.property.name]&&(e.overwrite(this.object.end,this.property.start,"['"),e.appendLeft(this.property.end,"']")),t.prototype.transpile.call(this,e,r)},MemberExpression}(c),et=function(t){function NewExpression(){t.apply(this,arguments)}return t&&(NewExpression.__proto__=t),NewExpression.prototype=Object.create(t&&t.prototype),NewExpression.prototype.constructor=NewExpression,NewExpression.prototype.initialise=function initialise(e){if(e.spreadRest&&this.arguments.length)for(var r=this.findLexicalBoundary(),n=this.arguments.length;n--;){var i=this.arguments[n];if("SpreadElement"===i.type&&isArguments(i.argument)){this.argumentsArrayAlias=r.getArgumentsArrayAlias();break}}t.prototype.initialise.call(this,e)},NewExpression.prototype.transpile=function transpile(e,r){if(t.prototype.transpile.call(this,e,r),r.spreadRest&&this.arguments.length&&inlineSpreads(e,this,this.arguments),r.spreadRest&&this.arguments.length){var n=this.arguments[0];spread(e,this.arguments,n.start,this.argumentsArrayAlias,!0)&&(e.prependRight(this.start+3," (Function.prototype.bind.apply("),e.overwrite(this.callee.end,n.start,", [ null ].concat( "),e.appendLeft(this.end," ))"))}this.arguments.length&&removeTrailingComma(e,this.arguments[this.arguments.length-1].end)},NewExpression}(c),rt=function(t){function ObjectExpression(){t.apply(this,arguments)}return t&&(ObjectExpression.__proto__=t),ObjectExpression.prototype=Object.create(t&&t.prototype),ObjectExpression.prototype.constructor=ObjectExpression,ObjectExpression.prototype.transpile=function transpile(e,r){var n;t.prototype.transpile.call(this,e,r);for(var i=this.start+1,s=0,a=0,o=null,p=null,l=0;l<this.properties.length;++l){var c=this.properties[l];if("SpreadElement"===c.type){var h=c.argument;"ObjectExpression"===h.type||"Literal"===h.type&&"string"!=typeof h.value?"ObjectExpression"===h.type&&h.properties.length>0?(e.remove(c.start,h.properties[0].start),e.remove(h.properties[h.properties.length-1].end,c.end),(n=this.properties).splice.apply(n,[l,1].concat(h.properties)),l--):(e.remove(c.start,l===this.properties.length-1?c.end:this.properties[l+1].start),this.properties.splice(l,1),l--):(s+=1,null===o&&(o=l))}else c.computed&&r.computedProperty&&(a+=1,null===p&&(p=l))}if(!s||r.objectRestSpread||a&&r.computedProperty){if(s){if(!this.program.options.objectAssign)throw new u("Object spread operator requires specified objectAssign option with 'Object.assign' or polyfill helper.",this);for(var d=this.properties.length;d--;){var f=this.properties[d];if("Property"===f.type&&!a){var m=this.properties[d-1],y=this.properties[d+1];m&&"Property"===m.type||e.prependRight(f.start,"{"),y&&"Property"===y.type||e.appendLeft(f.end,"}")}"SpreadElement"===f.type&&(e.remove(f.start,f.argument.start),e.remove(f.argument.end,f.end))}i=this.properties[0].start,a?"SpreadElement"===this.properties[0].type?(e.overwrite(this.start,i,this.program.options.objectAssign+"({}, "),e.remove(this.end-1,this.end),e.appendRight(this.end,")")):(e.prependLeft(this.start,this.program.options.objectAssign+"("),e.appendRight(this.end,")")):(e.overwrite(this.start,i,this.program.options.objectAssign+"({}, "),e.overwrite(this.properties[this.properties.length-1].end,this.end,")"))}}else s=0,o=null;if(a&&r.computedProperty){var g,v,S=this.getIndentation();"VariableDeclarator"===this.parent.type&&1===this.parent.parent.declarations.length&&"Identifier"===this.parent.id.type?(g=!0,v=this.parent.id.alias||this.parent.id.name):("AssignmentExpression"===this.parent.type&&"ExpressionStatement"===this.parent.parent.type&&"Identifier"===this.parent.left.type||"AssignmentPattern"===this.parent.type&&"Identifier"===this.parent.left.type)&&(g=!0,v=this.parent.left.alias||this.parent.left.name),s&&(g=!1),v=this.findScope(!1).resolveName(v);var b=i,E=this.end;g||(null===o||p<o?(v=this.findScope(!0).createDeclaration("obj"),e.prependRight(this.start,"( "+v+" = ")):v=null);for(var x,_=this.properties.length,w=!1,A=!0,k=0;k<_;k+=1){var I=this.properties[k],C=k>0?this.properties[k-1].end:b;if("Property"===I.type&&(I.computed||x&&!s)){if(0===k&&(C=this.start+1),x=I,v){var j=(g?";\n"+S+v:", "+v)+("Literal"===I.key.type||I.computed?"":".");C<I.start?e.overwrite(C,I.start,j):e.prependRight(I.start,j)}else{var O=(v=this.findScope(!0).createDeclaration("obj"))+(I.computed?"":".");e.appendRight(I.start,"( "+v+" = {}, "+O)}var L=I.key.end;if(I.computed){for(;"]"!==e.original[L];)L+=1;L+=1}"Literal"!==I.key.type||I.computed?I.shorthand||I.method&&!I.computed&&r.conciseMethodProperty?e.overwrite(I.key.start,I.key.end,e.slice(I.key.start,I.key.end).replace(/:/," =")):(I.value.start>L&&e.remove(L,I.value.start),e.prependLeft(L," = ")):e.overwrite(I.start,I.value.start,"["+e.slice(I.start,I.key.end)+"] = "),!I.method||!I.computed&&r.conciseMethodProperty||(I.value.generator&&e.remove(I.start,I.key.start),e.prependRight(I.value.start,"function"+(I.value.generator?"*":"")+" "))}else"SpreadElement"===I.type?v&&k>0&&(x||(x=this.properties[k-1]),e.appendLeft(x.end,", "+v+" )"),x=null,v=null):(!A&&s&&(e.prependRight(I.start,"{"),e.appendLeft(I.end,"}")),w=!0);if(A&&("SpreadElement"===I.type||I.computed)){var D=w?this.properties[this.properties.length-1].end:this.end-1;","==e.original[D]&&++D;var F=e.slice(D,E);e.prependLeft(C,F),e.remove(D,E),A=!1}var R=I.end;if(k<_-1&&!w)for(;","!==e.original[R];)R+=1;else k==_-1&&(R=this.end);I.end!=R&&e.overwrite(I.end,R,"",{contentOnly:!0})}!g&&v&&e.appendLeft(x.end,", "+v+" )")}},ObjectExpression}(c),nt=function(t){function Property(){t.apply(this,arguments)}return t&&(Property.__proto__=t),Property.prototype=Object.create(t&&t.prototype),Property.prototype.constructor=Property,Property.prototype.initialise=function initialise(e){"get"!==this.kind&&"set"!==this.kind||!e.getterSetter||u.missingTransform("getters and setters","getterSetter",this),t.prototype.initialise.call(this,e)},Property.prototype.transpile=function transpile(e,r){if(t.prototype.transpile.call(this,e,r),r.conciseMethodProperty&&!this.computed&&"ObjectPattern"!==this.parent.type)if(this.shorthand)e.prependRight(this.start,this.key.name+": ");else if(this.method){var n="";!1!==this.program.options.namedFunctionExpressions&&(n=" "+(n="Literal"===this.key.type&&"number"==typeof this.key.value?"":"Identifier"===this.key.type?d[this.key.name]||!/^[a-z_$][a-z0-9_$]*$/i.test(this.key.name)||this.value.body.scope.references[this.key.name]?this.findScope(!0).createIdentifier(this.key.name):this.key.name:this.findScope(!0).createIdentifier(this.key.value))),this.start<this.key.start&&e.remove(this.start,this.key.start),e.appendLeft(this.key.end,": "+(this.value.async?"async ":"")+"function"+(this.value.generator?"*":"")+n)}r.reservedProperties&&d[this.key.name]&&(e.prependRight(this.key.start,"'"),e.appendLeft(this.key.end,"'"))},Property}(c),it=function(t){function ReturnStatement(){t.apply(this,arguments)}return t&&(ReturnStatement.__proto__=t),ReturnStatement.prototype=Object.create(t&&t.prototype),ReturnStatement.prototype.constructor=ReturnStatement,ReturnStatement.prototype.initialise=function initialise(t){this.loop=this.findNearest(E),this.nearestFunction=this.findNearest(/Function/),this.loop&&(!this.nearestFunction||this.loop.depth>this.nearestFunction.depth)&&(this.loop.canReturn=!0,this.shouldWrap=!0),this.argument&&this.argument.initialise(t)},ReturnStatement.prototype.transpile=function transpile(t,e){var r=this.shouldWrap&&this.loop&&this.loop.shouldRewriteAsFunction;this.argument?(r&&t.prependRight(this.argument.start,"{ v: "),this.argument.transpile(t,e),r&&t.appendLeft(this.argument.end," }")):r&&t.appendLeft(this.start+6," {}")},ReturnStatement}(c),st=function(t){function Super(){t.apply(this,arguments)}return t&&(Super.__proto__=t),Super.prototype=Object.create(t&&t.prototype),Super.prototype.constructor=Super,Super.prototype.initialise=function initialise(t){if(t.classes){if(this.method=this.findNearest("MethodDefinition"),!this.method)throw new u("use of super outside class method",this);var e=this.findNearest("ClassBody").parent;if(this.superClassName=e.superClass&&(e.superClass.name||"superclass"),!this.superClassName)throw new u("super used in base class",this);if(this.isCalled="CallExpression"===this.parent.type&&this===this.parent.callee,"constructor"!==this.method.kind&&this.isCalled)throw new u("super() not allowed outside class constructor",this);if(this.isMember="MemberExpression"===this.parent.type,!this.isCalled&&!this.isMember)throw new u("Unexpected use of `super` (expected `super(...)` or `super.*`)",this)}if(t.arrow){var r=this.findLexicalBoundary(),n=this.findNearest("ArrowFunctionExpression"),i=this.findNearest(E);n&&n.depth>r.depth&&(this.thisAlias=r.getThisAlias()),i&&i.body.contains(this)&&i.depth>r.depth&&(this.thisAlias=r.getThisAlias())}},Super.prototype.transpile=function transpile(t,e){if(e.classes){var r=this.isCalled||this.method.static?this.superClassName:this.superClassName+".prototype";t.overwrite(this.start,this.end,r,{storeName:!0,contentOnly:!0});var n=this.isCalled?this.parent:this.parent.parent;if(n&&"CallExpression"===n.type){this.noCall||t.appendLeft(n.callee.end,".call");var i=this.thisAlias||"this";n.arguments.length?t.appendLeft(n.arguments[0].start,i+", "):t.appendLeft(n.end-1,""+i)}}},Super}(c),at=function(t){function TaggedTemplateExpression(){t.apply(this,arguments)}return t&&(TaggedTemplateExpression.__proto__=t),TaggedTemplateExpression.prototype=Object.create(t&&t.prototype),TaggedTemplateExpression.prototype.constructor=TaggedTemplateExpression,TaggedTemplateExpression.prototype.initialise=function initialise(e){e.templateString&&!e.dangerousTaggedTemplateString&&u.missingTransform("tagged template strings","templateString",this,"dangerousTaggedTemplateString"),t.prototype.initialise.call(this,e)},TaggedTemplateExpression.prototype.transpile=function transpile(e,r){if(r.templateString&&r.dangerousTaggedTemplateString){var n=this.quasi.expressions.concat(this.quasi.quasis).sort((function(t,e){return t.start-e.start})),i=this.program.body.scope,s=this.quasi.quasis.map((function(t){return JSON.stringify(t.value.cooked)})).join(", "),a=this.program.templateLiteralQuasis[s];a||(a=i.createIdentifier("templateObject"),e.prependLeft(this.program.prependAt,"var "+a+" = Object.freeze(["+s+"]);\n"),this.program.templateLiteralQuasis[s]=a),e.overwrite(this.tag.end,n[0].start,"("+a);var o=n[0].start;n.forEach((function(t){"TemplateElement"===t.type?e.remove(o,t.end):e.overwrite(o,t.start,", "),o=t.end})),e.overwrite(o,this.end,")")}t.prototype.transpile.call(this,e,r)},TaggedTemplateExpression}(c),ot=function(t){function TemplateElement(){t.apply(this,arguments)}return t&&(TemplateElement.__proto__=t),TemplateElement.prototype=Object.create(t&&t.prototype),TemplateElement.prototype.constructor=TemplateElement,TemplateElement.prototype.initialise=function initialise(){this.program.indentExclusionElements.push(this)},TemplateElement}(c),pt=function(t){function TemplateLiteral(){t.apply(this,arguments)}return t&&(TemplateLiteral.__proto__=t),TemplateLiteral.prototype=Object.create(t&&t.prototype),TemplateLiteral.prototype.constructor=TemplateLiteral,TemplateLiteral.prototype.transpile=function transpile(e,r){if(t.prototype.transpile.call(this,e,r),r.templateString&&"TaggedTemplateExpression"!==this.parent.type){var n=this.expressions.concat(this.quasis).sort((function(t,e){return t.start-e.start||t.end-e.end})).filter((function(t,e){return"TemplateElement"!==t.type||(!!t.value.raw||!e)}));if(n.length>=3){var i=n[0],s=n[2];"TemplateElement"===i.type&&""===i.value.raw&&"TemplateElement"===s.type&&n.shift()}var a=!(1===this.quasis.length&&0===this.expressions.length||"TemplateLiteral"===this.parent.type||"AssignmentExpression"===this.parent.type||"AssignmentPattern"===this.parent.type||"VariableDeclarator"===this.parent.type||"BinaryExpression"===this.parent.type&&"+"===this.parent.operator);a&&e.appendRight(this.start,"(");var o=this.start;n.forEach((function(t,r){var n=0===r?a?"(":"":" + ";if("TemplateElement"===t.type)e.overwrite(o,t.end,n+JSON.stringify(t.value.cooked));else{var i="Identifier"!==t.type;i&&(n+="("),e.remove(o,t.start),n&&e.prependRight(t.start,n),i&&e.appendLeft(t.end,")")}o=t.end})),a&&e.appendLeft(o,")"),e.overwrite(o,this.end,"",{contentOnly:!0})}},TemplateLiteral}(c),lt=function(t){function ThisExpression(){t.apply(this,arguments)}return t&&(ThisExpression.__proto__=t),ThisExpression.prototype=Object.create(t&&t.prototype),ThisExpression.prototype.constructor=ThisExpression,ThisExpression.prototype.initialise=function initialise(t){var e=this.findLexicalBoundary();if(t.letConst)for(var r=this.findNearest(E);r&&r.depth>e.depth;)r.thisRefs.push(this),r=r.parent.findNearest(E);if(t.arrow){var n=this.findNearest("ArrowFunctionExpression");n&&n.depth>e.depth&&(this.alias=e.getThisAlias())}},ThisExpression.prototype.transpile=function transpile(t){this.alias&&t.overwrite(this.start,this.end,this.alias,{storeName:!0,contentOnly:!0})},ThisExpression}(c),ct=function(t){function UpdateExpression(){t.apply(this,arguments)}return t&&(UpdateExpression.__proto__=t),UpdateExpression.prototype=Object.create(t&&t.prototype),UpdateExpression.prototype.constructor=UpdateExpression,UpdateExpression.prototype.initialise=function initialise(e){if("Identifier"===this.argument.type){var r=this.findScope(!1).findDeclaration(this.argument.name),n=r&&r.node.ancestor(3);n&&"ForStatement"===n.type&&n.body.contains(this)&&(n.reassigned[this.argument.name]=!0)}t.prototype.initialise.call(this,e)},UpdateExpression.prototype.transpile=function transpile(e,r){"Identifier"===this.argument.type&&checkConst(this.argument,this.findScope(!1)),t.prototype.transpile.call(this,e,r)},UpdateExpression}(c),ht=function(t){function VariableDeclaration(){t.apply(this,arguments)}return t&&(VariableDeclaration.__proto__=t),VariableDeclaration.prototype=Object.create(t&&t.prototype),VariableDeclaration.prototype.constructor=VariableDeclaration,VariableDeclaration.prototype.initialise=function initialise(t){this.scope=this.findScope("var"===this.kind),this.declarations.forEach((function(e){return e.initialise(t)}))},VariableDeclaration.prototype.transpile=function transpile(t,e){var r=this,n=this.getIndentation(),i=this.kind;if(e.letConst&&"var"!==i&&(i="var",t.overwrite(this.start,this.start+this.kind.length,i,{contentOnly:!0,storeName:!0})),e.destructuring&&"ForOfStatement"!==this.parent.type&&"ForInStatement"!==this.parent.type){var s,a=this.start;this.declarations.forEach((function(i,o){if(i.transpile(t,e),"Identifier"===i.id.type)o>0&&"Identifier"!==r.declarations[o-1].id.type&&t.overwrite(a,i.id.start,"var ");else{var p=E.test(r.parent.type);0===o?t.remove(a,i.id.start):t.overwrite(a,i.id.start,";\n"+n);var l="Identifier"===i.init.type&&!i.init.rewritten,c=l?i.init.alias||i.init.name:i.findScope(!0).createIdentifier("ref");a=i.start;var h=[];l?t.remove(i.id.end,i.end):h.push((function(e,r,n){t.prependRight(i.id.end,"var "+c),t.appendLeft(i.init.end,""+n),t.move(i.id.end,i.end,e)}));var d=i.findScope(!1);destructure(t,(function(t){return d.createIdentifier(t)}),(function(t){var e=t.name;return d.resolveName(e)}),i.id,c,p,h);var u=p?"var ":"",f=p?", ":";\n"+n;h.forEach((function(t,e){o===r.declarations.length-1&&e===h.length-1&&(f=p?"":";"),t(i.start,0===e?u:"",f)}))}a=i.end,s="Identifier"!==i.id.type})),s&&this.end>a&&t.overwrite(a,this.end,"",{contentOnly:!0})}else this.declarations.forEach((function(r){r.transpile(t,e)}))},VariableDeclaration}(c),dt=function(t){function VariableDeclarator(){t.apply(this,arguments)}return t&&(VariableDeclarator.__proto__=t),VariableDeclarator.prototype=Object.create(t&&t.prototype),VariableDeclarator.prototype.constructor=VariableDeclarator,VariableDeclarator.prototype.initialise=function initialise(e){var r=this.parent.kind;"let"===r&&"ForStatement"===this.parent.parent.type&&(r="for.let"),this.parent.scope.addDeclaration(this.id,r),t.prototype.initialise.call(this,e)},VariableDeclarator.prototype.transpile=function transpile(t,e){if(!this.init&&e.letConst&&"var"!==this.parent.kind){var r=this.findNearest(/Function|^For(In|Of)?Statement|^(?:Do)?WhileStatement/);!r||/Function/.test(r.type)||this.isLeftDeclaratorOfLoop()||t.appendLeft(this.id.end," = (void 0)")}this.id&&this.id.transpile(t,e),this.init&&this.init.transpile(t,e)},VariableDeclarator.prototype.isLeftDeclaratorOfLoop=function isLeftDeclaratorOfLoop(){return this.parent&&"VariableDeclaration"===this.parent.type&&this.parent.parent&&("ForInStatement"===this.parent.parent.type||"ForOfStatement"===this.parent.parent.type)&&this.parent.parent.left&&this.parent.parent.left.declarations[0]===this},VariableDeclarator}(c),ut={ArrayExpression:y,ArrowFunctionExpression:g,AssignmentExpression:v,AwaitExpression:S,BinaryExpression:b,BreakStatement:x,CallExpression:_,CatchClause:w,ClassBody:A,ClassDeclaration:k,ClassExpression:I,ContinueStatement:C,DoWhileStatement:L,ExportNamedDeclaration:O,ExportDefaultDeclaration:j,ForStatement:D,ForInStatement:F,ForOfStatement:R,FunctionDeclaration:P,FunctionExpression:T,Identifier:J,IfStatement:B,Import:X,ImportDeclaration:N,ImportDefaultSpecifier:M,ImportSpecifier:V,JSXAttribute:U,JSXClosingElement:W,JSXClosingFragment:q,JSXElement:z,JSXExpressionContainer:$,JSXFragment:H,JSXOpeningElement:Q,JSXOpeningFragment:Z,JSXSpreadAttribute:G,Literal:Y,MemberExpression:tt,NewExpression:et,ObjectExpression:rt,Property:nt,ReturnStatement:it,Super:st,TaggedTemplateExpression:at,TemplateElement:ot,TemplateLiteral:pt,ThisExpression:lt,UpdateExpression:ct,VariableDeclaration:ht,VariableDeclarator:dt,WhileStatement:L},ft={Program:["body"],Literal:[]},mt={IfStatement:"consequent",ForStatement:"body",ForInStatement:"body",ForOfStatement:"body",WhileStatement:"body",DoWhileStatement:"body",ArrowFunctionExpression:"body"};function wrap(t,e){if(t)if("length"in t)for(var r=t.length;r--;)wrap(t[r],e);else if(!t.__wrapped){t.__wrapped=!0,ft[t.type]||(ft[t.type]=Object.keys(t).filter((function(e){return"object"==typeof t[e]})));var n=mt[t.type];if(n&&"BlockStatement"!==t[n].type){var i=t[n];t[n]={start:i.start,end:i.end,type:"BlockStatement",body:[i],synthetic:!0}}t.parent=e,t.program=e.program||e,t.depth=e.depth+1,t.keys=ft[t.type],t.indentation=void 0;for(var s=0,a=ft[t.type];s<a.length;s+=1){var o=a[s];wrap(t[o],t)}t.program.magicString.addSourcemapLocation(t.start),t.program.magicString.addSourcemapLocation(t.end);var p=("BlockStatement"===t.type?m:ut[t.type])||c;t.__proto__=p.prototype}}function Program(t,e,r,n){this.type="Root",this.jsx=n.jsx||"React.createElement",this.jsxFragment=n.jsxFragment||"React.Fragment",this.options=n,this.source=t,this.magicString=new o.ZP(t),this.ast=e,this.depth=0,wrap(this.body=e,this),this.body.__proto__=m.prototype,this.templateLiteralQuasis=Object.create(null);for(var i=0;i<this.body.body.length;++i)if(!this.body.body[i].directive){this.prependAt=this.body.body[i].start;break}this.objectWithoutPropertiesHelper=null,this.indentExclusionElements=[],this.body.initialise(r),this.indentExclusions=Object.create(null);for(var s=0,a=this.indentExclusionElements;s<a.length;s+=1)for(var p=a[s],l=p.start;l<p.end;l+=1)this.indentExclusions[l]=!0;this.body.transpile(this.magicString,r)}Program.prototype={export:function export$1(t){return void 0===t&&(t={}),{code:this.magicString.toString(),map:this.magicString.generateMap({file:t.file,source:t.source,includeContent:!1!==t.includeContent})}},findNearest:function findNearest(){return null},findScope:function findScope(){return null},getObjectWithoutPropertiesHelper:function getObjectWithoutPropertiesHelper(t){return this.objectWithoutPropertiesHelper||(this.objectWithoutPropertiesHelper=this.body.scope.createIdentifier("objectWithoutProperties"),t.prependLeft(this.prependAt,"function "+this.objectWithoutPropertiesHelper+" (obj, exclude) { var target = {}; for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k]; return target; }\n")),this.objectWithoutPropertiesHelper}};var yt={chrome:{48:610719,49:652287,50:783359,51:783359,52:1045503,53:1045503,54:1045503,55:3142655,56:3142655,57:3142655,58:4191231,59:4191231,60:8385535,61:8385535,62:8385535,63:8385535,64:8385535,65:8385535,66:8385535,67:8385535,68:8385535,69:8385535,70:8385535,71:8385535},firefox:{43:643515,44:643515,45:643519,46:774591,47:774655,48:774655,49:774655,50:774655,51:775167,52:4191231,53:4191231,54:4191231,55:8385535,56:8385535,57:8385535,58:8385535,59:8385535,60:8385535,61:8385535,62:8385535,63:8385535,64:8385535},safari:{8:524297,9:594141,10:1831935,10.1:4191231,11:4191231,11.1:8385535,12:8385535},ie:{8:0,9:524289,10:524289,11:524289},edge:{12:610459,13:774559,14:2085887,15:4183039,16:4183039,17:4183039,18:4183039,19:4183039},node:{"0.10":524289,.12:524417,4:594335,5:594335,6:783359,8:4191231,8.3:8385535,8.7:8385535,"8.10":8385535}},gt=["getterSetter","arrow","classes","computedProperty","conciseMethodProperty","defaultParameter","destructuring","forOf","generator","letConst","moduleExport","moduleImport","numericLiteral","parameterDestructuring","spreadRest","stickyRegExp","templateString","unicodeRegExp","exponentiation","reservedProperties","trailingFunctionCommas","asyncAwait","objectRestSpread"],vt=n.Parser.extend(a.ZP,s()()),St=["dangerousTaggedTemplateString","dangerousForOf"];function target(t){var e=Object.keys(t).length?8388607:524289;Object.keys(t).forEach((function(r){var n=yt[r];if(!n)throw new Error("Unknown environment '"+r+"'. Please raise an issue at https://github.com/bublejs/buble/issues");var i=t[r];if(!(i in n))throw new Error("Support data exists for the following versions of "+r+": "+Object.keys(n).join(", ")+". Please raise an issue at https://github.com/bublejs/buble/issues");var s=n[i];e&=s}));var r=Object.create(null);return gt.forEach((function(t,n){r[t]=!(e&1<<n)})),St.forEach((function(t){r[t]=!1})),r}function transform(t,e){var r;void 0===e&&(e={});var n=null;try{r=vt.parse(t,{ecmaVersion:10,preserveParens:!0,sourceType:"module",allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowHashBang:!0,onComment:function(t,e){if(!n){var r=/@jsx\s+([^\s]+)/.exec(e);r&&(n=r[1])}}}),e.jsx=n||e.jsx}catch(e){throw e.snippet=getSnippet(t,e.loc),e.toString=function(){return e.name+": "+e.message+"\n"+e.snippet},e}var i=target(e.target||{});return Object.keys(e.transforms||{}).forEach((function(t){if("modules"===t)return"moduleImport"in e.transforms||(i.moduleImport=e.transforms.modules),void("moduleExport"in e.transforms||(i.moduleExport=e.transforms.modules));if(!(t in i))throw new Error("Unknown transform '"+t+"'");i[t]=e.transforms[t]})),!0===e.objectAssign&&(e.objectAssign="Object.assign"),new Program(t,r,i,e).export(e)}}}]);